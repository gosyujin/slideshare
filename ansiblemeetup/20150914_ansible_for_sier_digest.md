footer: ©2015 @kk_Ataka
slidenumbers: true

# SIerでもAnsibleを<br />導入したい！

## 2015/09/14<br />Ansible Meetup in Tokyo

---

# 自己紹介

- Twitter: @kk_Ataka 
- GitHub:  gosyujin
- 割と大きめのSIer勤務
    - 現在休職中。。。

![75%, right](https://pbs.twimg.com/profile_images/2222065431/image.png)

---

# アジェンダ

1. 社内でAnsibleの紹介をした時の反応
2. Ansible導入に向けて

-

おまけ、意外なAnsibleの使われ方

---

# 社内でAnsibleを<br />紹介した時の反応

---

# はじめに質問してみた

1. Infrastructure as Codeという言葉、概念
1. Chef, Puppet, Ansibleというツール

-

聞いたことある or 使ってる？

---

# 結果はあまり<br />良くなかった…(;_;)

---

# しかし光明あり！共感は得られた

- 「Infrastructure as Codeの概念は大事だと思う」
    1. **独自のシェルスクリプト(別名:秘伝のタレ)**
    1. **環境構築手順書ver4.2_20150914(2).xlsx**
- 「サーバに無闇に設定を追加しないのはいいね」
    - 特に稼動済のサーバだと手続きとか面倒臭い

---

# べき等性について

- 言葉自体になじみがない感じ
- でも言わんとしてる事はわかってくれてる
    - 同じコマンドを2回実行すると、2回目がコケてアラート飛んでさあ大変事案など

--

# Ansible導入に向けて

---

# どこを推すべきか…

---

# ここから攻めろ！

1. **秘伝のタレを再利用** できます！ [^*1]
2. サーバ側は、とりあえず **SSHで入れるだけ** でOK！ [^*2]

## [fit] **資産流用できて、無闇にサーバにツールは入れないよ！！**

[^*1]: shellモジュールを使う事になるので、冪等性はがんばる！、もしくは徐々にモジュール化をはかる！

[^*2]: いきなり「サーバに管理ツール入れさせろ！」というのはちょっと敷居が高い。特に既に稼動している場合

---

# ※ 個人差があります

---

# おまけ<br />意外なAnsibleの使われ方

---

# とあるプロジェクトでの経験談

1. 朝、出社する
1. テストに必要なプロセスを「Ansibleで」一斉起動する
1. テストする
1. 夜、立ち上げたプロセスを「Ansibleで」一斉停止する
1. 帰る[^*3]

[^*3]: よくわからないが、立ち上げっぱなしはダメな環境だったそうな

---

# Ansibleとは

# [fit] **サーバ環境を適切に**
# [fit] **管理/維持するツール**

という固定観念があったため衝撃を受けた

---

# でもOK！

- 環境管理に留まらず、 **どんな使い方** をしてもOKなのがAnsibleなのだ！

    " Ansibleは構成管理ツールの一つです。
    ただ、それだけにとどまらない、任意のコマンドを
    リモートで実行したり、結果を取得したりする
    オーケストレーションツールでもあります。 " [^*4]

[^*4]: 若山 史郎 "入門Ansible"

---

# 余談

- 本来、この資料はMarkdown -> Deckset(Mac App)でPDF出力する予定だった
    - 資料完成間近にMacbookに豚汁を飲ませてしまい、起動不可に
- 幸いMarkdown自体は残ってたので、それをreveal.js用にコンバート
- ギリギリ事無きを得た(-3-)
