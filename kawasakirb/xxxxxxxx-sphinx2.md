# SIerでもSphinxを使いたい！ 後編

## xxxx/xx/xx

## @kk_Ataka

---

# 自己紹介

- Twitter: @kk_Ataka 
- GitHub:  gosyujin

![75%, right](https://pbs.twimg.com/profile_images/2222065431/image.png)

---

# 前編のあらすじ

---

# 前編のあらすじ

- Sphinxというドキュメンテーションツールを使いたい
- 導入するための理由づけ(政治)のために競合ツールと比較
  - Office(Word, Excel)
  - Wiki, Markdown
- 結果、初期導入にかかる手間以外は有用そう！

---

# アジェンダ

- Sphinxとは(前編でやった)
  - さらっと
- 競合ツールとの比較(前編でやった)
- 導入のためのあれこれ
- 導入した後どうするか

---

# 導入するための壁

1. 対プロジェクトメンバー(PM)に対して
2. 対顧客に対して

![inline](https://cloud.githubusercontent.com/assets/588166/3563656/ac52d408-0a48-11e4-9013-aac931c21e40.png)

---

# 壁1. 対PM

---

# 対PM 登場人物

- 自分
  - Sphinxを導入したい人、基本的になんでもやる
- メンバー
  - 導入したSphinxを使ってほしい人
  - 油断するとすぐOfficeで日付バージョン管理@共有サーバする

---

# 対PM 「自分」の仕事

- **今回はreSTで進めることの明確な宣言**
- メンバーが「特定のrstファイルを開いてドキュメント作成」に注力できる環境を作る
  - sphinx-quickstartで下準備
  - ドキュメント自体のアウトライン作成
  - doctreeの作成

---

# 対PM 「自分」の仕事

- あわせてビルド環境、デプロイ環境などもお膳立て
    - ビルドはJenkinsで拾う
    - デプロイはApacheにhtmlファイル配備だろうか

---

# 対PM 「メンバー」の仕事

- reST記法を覚えてもらう
  - Markdownならなんとか…って場合はMarkdown -> reSTという技もあるにはある
- バージョン管理ツールは使えてください…

---

# 対PM 課題

- ローカルPCでのプレビュー
  - Python, Sphinxを入れてもらうのは厳しい
  - 確認できるのがサーバにプッシュした時
  - ローカルでreSTプレビューできないだろうか…
      - GitHubだとできるんだけど

---

# 対PM 課題

- プロジェクト(会社)の風土にあわせたカスタマイズが必要かもしれない
  - 「変更履歴」出力プラグイン作ってみた

---

# 壁2. 対顧客

---

# 対顧客 登場人物

- プロジェクト
  - 我々側。Sphinxでドキュメント納品します
- 顧客
  - ドキュメントを納品される側
  - 社内の人 or 社外の人
  - 歴史的経緯からOfficeで納品される事が多い
      - 例外はJavadocくらい？

---

# 対顧客 「プロジェクト」の仕事

- Sphinxで作成するドキュメントに関して「今回はOfficeじゃない形式でドキュメント書きますよ」の合意を得とく

---

# 対顧客 「顧客」の仕事

- 特になし？

---

# 対顧客 課題

- **納品形式** 最重要(次ページ参照)
  - 納品後誰が保守するのかが大事
  - 顧客が巻取ってしまう場合、どうしたらよいか
      - 今のところ、納品対象外となっているドキュメントだけSphinxを使うという方針しかない？

---

![inline](https://cloud.githubusercontent.com/assets/588166/3563987/1ac73444-0a65-11e4-929f-f5915950ba94.png)

---

# [fit] 色々考えた上で臨んだ現在のPJ

---

# 現状

- デモシステムのためドキュメントから何からすべて一任
- 紆余曲折があり開発担当が自分ほぼ一人になってしまった(リーダー的な人とかは別にいる)
  - やりたい放題ランド
  - 社内テンプレート(謎)仕込まれる前に前倒しでドキュメント作りまくり

---

# 現状

- バージョン管理、差分管理もできて快適
- 軽い(普通のエディタで編集してるから)
- 意外と営業の人に受けが良かった
  - 「え？なにこれ？なんてツール？あとで教えて」

---

# 現状

- Sphinx導入はできたが、思い描いていた事は実践できず…

---

# おまけ

---

# ある日の打ち合わせ

```
メンバー「今日はよろしくお願いします」
顧客「よろしくお願いします」
自分「お願いします」
メンバー「じゃあ今日はxxx設計書のレビューと言うことで、資料です」

スッ…

( ﾟдﾟ)　

(　д )　ﾟ　ﾟ
```

---

# そこにはreSTで書かれた内容とほぼ同じ内容のWordファイルが！！

---

# [fit] 「でも僕は、ワードファイル！」

---

# [fit] あきらめきれない！(>_<)
